echo "ğŸš€ Running pre-push checks..."

# Full lint check
echo "ğŸ” Running full lint check..."
npm run lint

if [ $? -ne 0 ]; then
  echo "âŒ Lint check failed. Please fix the linting errors and try again."
  exit 1
fi

# Format check
echo "ğŸ¨ Checking code formatting..."
npm run format:check

if [ $? -ne 0 ]; then
  echo "âŒ Code formatting check failed. Please run 'npm run format' and try again."
  exit 1
fi

# Type check
echo "ğŸ” Running TypeScript type check..."
npm run type-check

if [ $? -ne 0 ]; then
  echo "âŒ TypeScript type check failed. Please fix the type errors and try again."
  exit 1
fi

# Run all tests
echo "ğŸ§ª Running all tests..."
npm run test

if [ $? -ne 0 ]; then
  echo "âŒ Tests failed. Please fix the failing tests and try again."
  exit 1
fi

# Build all applications
echo "ğŸ—ï¸ Building all applications..."
npm run build

if [ $? -ne 0 ]; then
  echo "âŒ Build failed. Please fix the build errors and try again."
  exit 1
fi

echo "âœ… All pre-push checks passed! Ready to push."
